<div align="center" width="100%">
    <h1> Statiq - Webserver Plugin for Traefik v3</h1>
    <img width="auto" src=".assets/banner.png">
    <a target="_blank" href="https://GitHub.com/hhftechnology/tlsguard/graphs/contributors/"><img src="https://img.shields.io/github/contributors/hhftechnology/tlsguard.svg" /></a><br>
    <a target="_blank" href="https://GitHub.com/hhftechnology/statiq/commits/"><img src="https://img.shields.io/github/last-commit/hhftechnology/statiq.svg" /></a>
    <a target="_blank" href="https://GitHub.com/hhftechnology/statiq/issues/"><img src="https://img.shields.io/github/issues/hhftechnology/statiq.svg" /></a>
    <a target="_blank" href="https://github.com/hhftechnology/statiq/issues?q=is%3Aissue+is%3Aclosed"><img src="https://img.shields.io/github/issues-closed/hhftechnology/statiq.svg" /></a><br>
        <a target="_blank" href="https://github.com/hhftechnology/statiq/stargazers"><img src="https://img.shields.io/github/stars/hhftechnology/statiq.svg?style=social&label=Star" /></a>
    <a target="_blank" href="https://github.com/hhftechnology/statiq/network/members"><img src="https://img.shields.io/github/forks/hhftechnology/statiq.svg?style=social&label=Fork" /></a>
    <a target="_blank" href="https://github.com/hhftechnology/statiq/watchers"><img src="https://img.shields.io/github/watchers/hhftechnology/statiq.svg?style=social&label=Watch" /></a><br>
</div>

<div align="center" width="100%">
    <p>This is a plugin for [Traefik](https://traefik.io) to build a **feature-rich static file server** as a middleware.</p>
    <a target="_blank" href="https://github.com/hhftechnology/statiq"><img src="https://img.shields.io/badge/maintainer-hhftechnology-orange" /></a>
</div>

## üìù Forums

[See the forums for further discussion here](https://forum.hhf.technology/)
Make Traefik a powerful static file server!

## Features

- **Basic file serving**: Serves static files from a configured directory
- **Directory listing control**: Enable or disable directory browsing
- **Custom index files**: Configure which files should be used as directory index
- **SPA mode**: Support for Single Page Applications by redirecting 404s to index file
- **Custom error pages**: Configure custom error pages for 404 errors
- **Cache control**: Set cache control headers based on file extensions
- **Full Traefik v3 compatibility**: Optimized for the latest Traefik version

## Configuration Options

| Option | Type | Default | Description |
|--------|------|---------|-------------|
| `root` | String | `.` | Root directory to serve files from |
| `enableDirectoryListing` | Boolean | `false` | Whether to enable directory listing |
| `indexFiles` | Array | `["index.html", "index.htm"]` | List of filenames to try when a directory is requested |
| `spaMode` | Boolean | `false` | Redirects all not-found requests to a single page |
| `spaIndex` | String | `index.html` | File to serve in SPA mode |
| `errorPage404` | String | `""` | Path to a custom 404 error page (relative to root) |
| `cacheControl` | Map | `{}` | Map of file extensions to cache control values |

## Usage

### Basic Configuration

Here is an example of a file provider dynamic configuration (given here in
YAML), for basic static file serving:

```yaml
# Dynamic configuration
http:
  routers:
    my-statiq-router:
      rule: host(`statiq.localhost`)
      service: noop@internal # required
      middlewares:
        - traefik-plugin-statiq

  middlewares:
    traefik-plugin-statiq:
      plugin:
        traefik-plugin-statiq:
          root: "/var/www/html/"
```

### Advanced Configuration

Here's an example with more advanced features enabled:

```yaml
# Dynamic configuration with advanced features
http:
  routers:
    my-spa-router:
      rule: host(`spa.localhost`)
      service: noop@internal
      middlewares:
        - statiq-advanced

  middlewares:
    statiq-advanced:
      plugin:
        traefik-plugin-statiq:
          root: "/var/www/spa/"
          spaMode: true
          spaIndex: "index.html"
          errorPage404: "error/404.html"
          enableDirectoryListing: false
          indexFiles:
            - "index.html"
            - "default.htm"
          cacheControl:
            ".html": "max-age=3600"
            ".css": "max-age=86400"
            ".js": "max-age=86400"
            ".png": "max-age=604800"
            ".jpg": "max-age=604800"
            "*": "max-age=3600"
```

## Local Testing

There is a `docker compose.yml` file to test the plugin locally:

```bash
docker compose up -d
```

Then, you can go to [http://statiq.localhost](http://statiq.localhost) to see the
result.

## Use Cases

### Static Website Hosting

Perfect for hosting simple static websites with HTML, CSS, and JavaScript files.

### Single Page Application (SPA) Hosting

Using the `spaMode` option, you can easily host React, Vue, or Angular applications 
that use client-side routing.

### API Documentation

Host API documentation generated by tools like Swagger or Redoc directly from Traefik.

### Documentation Sites

Serve markdown-based documentation sites or wikis seamlessly.